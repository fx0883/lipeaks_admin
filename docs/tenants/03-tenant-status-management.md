# 租户状态管理

本文档介绍租户管理模块的状态管理功能，包括暂停租户和激活租户。

## 1. 租户状态概述

租户在系统中可以有以下几种状态：

- **active（活跃）**：租户正常运行，用户可以正常登录和使用系统功能。
- **suspended（暂停）**：租户被暂时停用，用户无法登录系统，但租户数据保留。
- **deleted（已删除）**：租户被标记为删除状态，实际上是软删除，数据仍然保留在数据库中。

租户状态管理API允许超级管理员在不同状态之间切换租户状态，主要包括暂停租户和激活租户两个操作。

## 2. 暂停租户

### 接口信息

- **URL**: `/api/v1/tenants/{id}/suspend/`
- **方法**: POST
- **权限要求**: 超级管理员

### 路径参数

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| id | integer | 是 | 租户ID |

### 响应示例

```json
{
  "success": true,
  "code": 2000,
  "message": "租户已暂停",
  "data": {
    "id": 1,
    "name": "测试租户1",
    "status": "suspended",
    "updated_at": "2025-04-22T10:00:00Z"
  }
}
```

## 3. 激活租户

### 接口信息

- **URL**: `/api/v1/tenants/{id}/activate/`
- **方法**: POST
- **权限要求**: 超级管理员

### 路径参数

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| id | integer | 是 | 租户ID |

### 响应示例

```json
{
  "success": true,
  "code": 2000,
  "message": "租户已激活",
  "data": {
    "id": 1,
    "name": "测试租户1",
    "status": "active",
    "updated_at": "2025-04-22T10:00:00Z"
  }
}
```

## 4. 状态管理界面设计建议

### 状态标签与操作按钮

在租户列表和详情页面中，可以使用不同颜色的标签来表示不同的租户状态，并提供相应的操作按钮：

- **活跃状态**：绿色标签，显示"活跃"文本，提供"暂停租户"按钮
- **暂停状态**：橙色标签，显示"已暂停"文本，提供"激活租户"按钮
- **删除状态**：红色标签，显示"已删除"文本

### 状态变更确认对话框

在执行状态变更操作前，应该显示确认对话框，提醒用户操作的影响：

- **暂停租户确认**：提示用户暂停后该租户下的所有用户将无法登录系统
- **激活租户确认**：提示用户激活后该租户下的用户将可以正常使用系统

## 5. 状态变更后的处理建议

当租户状态发生变更后，前端应该做出相应的处理：

1. **暂停租户后**：
   - 刷新租户列表，更新状态显示
   - 如果当前用户属于被暂停的租户，显示通知并引导用户退出
   - 更新租户详情页面，显示暂停状态和激活按钮

2. **激活租户后**：
   - 刷新租户列表，更新状态显示
   - 更新租户详情页面，显示活跃状态和暂停按钮
   - 可以显示通知，提醒超级管理员租户已恢复活跃状态

## 下一步

请查看[租户用户管理](./04-tenant-user-management.md)，了解如何管理租户下的用户。 