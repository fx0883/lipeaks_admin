# 菜单管理功能线框图

## 总体布局

菜单管理功能采用经典的CRUD界面设计，主要分为以下几个部分：

1. 功能区 - 顶部操作按钮
2. 搜索区 - 搜索条件和过滤器
3. 内容区 - 树形表格展示菜单
4. 表单区 - 弹窗形式的编辑表单

## 菜单管理主界面

```
┌────────────────────────────────────────────────────────────────────┐
│ 菜单管理                                                [新增菜单] │
├────────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────────┐│
│ │ 搜索: [________] 状态: [全部 ▼]                     [刷新列表] ││
│ └─────────────────────────────────────────────────────────────────┘│
│ ┌─────────────────────────────────────────────────────────────────┐│
│ │ 菜单名称 │ 图标 │ 路径 │ 组件 │ 排序 │ 状态 │      操作      ││
│ ├─────────┼──────┼──────┼──────┼──────┼──────┼────────────────┤│
│ │ 仪表盘   │ □    │/.../│/.../│  1   │ 启用 │[编辑][删除]    ││
│ │ ├─ 概览  │ □    │/.../│/.../│  1   │ 启用 │[编辑][删除]    ││
│ │ 租户管理 │ □    │/.../│/.../│  2   │ 启用 │[编辑][删除]    ││
│ │ ├─ 列表  │ □    │/.../│/.../│  1   │ 启用 │[编辑][删除]    ││
│ │ └─ 详情  │ □    │/.../│/.../│  2   │ 启用 │[编辑][删除]    ││
│ │ 系统管理 │ □    │/.../│/.../│  3   │ 启用 │[编辑][删除]    ││
│ │ └─ 菜单  │ □    │/.../│/.../│  1   │ 启用 │[编辑][删除]    ││
│ └─────────────────────────────────────────────────────────────────┘│
└────────────────────────────────────────────────────────────────────┘
```

### 功能说明

1. **顶部操作区**
   - "新增菜单"按钮 - 打开创建菜单表单
   
2. **搜索过滤区**
   - 搜索框 - 按菜单名称搜索
   - 状态下拉框 - 过滤活动/非活动菜单
   - 刷新按钮 - 重新加载菜单数据

3. **菜单表格**
   - 树形结构展示菜单层级关系
   - 可折叠/展开子菜单
   - 支持按列排序
   - 操作列包含编辑、删除按钮

4. **分页控件**（如果菜单项较多）
   - 页码导航
   - 每页显示数量选择

## 菜单创建/编辑表单

```
┌────────────────────────────────────────────────────────────────────┐
│ 编辑菜单                                                    [关闭] │
├────────────────────────────────────────────────────────────────────┤
│ ┌──────────────────────┐ ┌──────────────────────┐                  │
│ │ 菜单名称 *           │ │ 菜单标识码 *         │                  │
│ │ [_________________] │ │ [_________________] │                  │
│ └──────────────────────┘ └──────────────────────┘                  │
│ ┌──────────────────────┐ ┌──────────────────────┐                  │
│ │ 路由路径 *           │ │ 组件路径 *           │                  │
│ │ [_________________] │ │ [_________________] │                  │
│ └──────────────────────┘ └──────────────────────┘                  │
│ ┌──────────────────────┐ ┌──────────────────────┐                  │
│ │ 菜单图标             │ │ 重定向路径           │                  │
│ │ [____] [图标选择器▼] │ │ [_________________] │                  │
│ └──────────────────────┘ └──────────────────────┘                  │
│ ┌──────────────────────┐ ┌──────────────────────┐                  │
│ │ 排序值 *             │ │ 父级菜单             │                  │
│ │ [_________________] │ │ [______________▼__] │                  │
│ └──────────────────────┘ └──────────────────────┘                  │
│                                                                    │
│ ┌──────────────────────────────────────────────────────────────┐   │
│ │ 权限设置                                                     │   │
│ │ [x] 超级管理员   [ ] 租户管理员   [ ] 普通用户              │   │
│ └──────────────────────────────────────────────────────────────┘   │
│                                                                    │
│ ┌──────────────────────────────────────────────────────────────┐   │
│ │ 高级选项                                                     │   │
│ │ ▼                                                            │   │
│ └──────────────────────────────────────────────────────────────┘   │
│                                                                    │
│ ┌──────────────────────────────────────────────────────────────┐   │
│ │ [ ] 启用缓存   [ ] 在菜单中隐藏   [x] 菜单显示              │   │
│ └──────────────────────────────────────────────────────────────┘   │
│                                                                    │
│ ┌──────────────────┐  ┌───────────────────┐                       │
│ │     [取消]       │  │      [保存]       │                       │
│ └──────────────────┘  └───────────────────┘                       │
└────────────────────────────────────────────────────────────────────┘
```

### 表单字段说明

1. **基本信息**
   - 菜单名称 (name) - 路由名称，必填
   - 菜单标识码 (code) - 唯一标识，必填
   - 路由路径 (path) - URL路径，必填
   - 组件路径 (component) - 组件位置，必填
   - 菜单图标 (icon) - 图标选择器
   - 重定向路径 (redirect) - 重定向URL
   - 排序值 (rank) - 数字，决定菜单顺序
   - 父级菜单 (parent_id) - 上级菜单选择

2. **权限设置**
   - 角色多选框 - 设置可访问的角色列表

3. **高级选项**
   - 启用缓存 (keep_alive) - 是否缓存组件
   - 在菜单中隐藏 (!show_link) - 是否在菜单中显示
   - 菜单显示 (show_parent) - 是否显示父级菜单

4. **操作按钮**
   - 取消 - 关闭表单，不保存
   - 保存 - 提交表单，保存数据

## 确认对话框

```
┌────────────────────────────────────────────────┐
│ 确认删除                             [×]       │
├────────────────────────────────────────────────┤
│                                                │
│  确定要删除此菜单项吗？                        │
│  删除后将无法恢复，且会同时删除所有子菜单。    │
│                                                │
│                                                │
│          [取消]            [确定删除]          │
│                                                │
└────────────────────────────────────────────────┘
```

### 确认对话框说明

- 用于危险操作的二次确认
- 包含清晰的风险提示
- 提供取消和确认选项
- 确认按钮使用警示色

## 图标选择器组件

```
┌────────────────────────────────────────────────┐
│ 选择图标                             [×]       │
├────────────────────────────────────────────────┤
│ 搜索: [_________]                              │
├────────────────────────────────────────────────┤
│                                                │
│  □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □   │
│  □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □   │
│  □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □   │
│  □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □ □   │
│                                                │
├────────────────────────────────────────────────┤
│          [取消]            [确定]              │
│                                                │
└────────────────────────────────────────────────┘
```

### 图标选择器说明

- 弹窗形式
- 支持搜索图标
- 网格展示所有可用图标
- 点击选择图标

## 交互流程

### 菜单创建流程

```
┌────────────┐     ┌───────────────┐     ┌─────────────────┐     ┌───────────────┐
│            │     │               │     │                 │     │               │
│ 点击新增   │────►│ 打开创建表单  │────►│ 填写并提交表单  │────►│ 创建成功提示  │
│            │     │               │     │                 │     │               │
└────────────┘     └───────────────┘     └─────────────────┘     └───────────────┘
                                                  │
                                                  │
                                                  ▼
                                         ┌─────────────────┐
                                         │                 │
                                         │ 表单验证失败    │
                                         │ 显示错误信息    │
                                         │                 │
                                         └─────────────────┘
```

### 菜单编辑流程

```
┌────────────┐     ┌───────────────┐     ┌─────────────────┐     ┌───────────────┐
│            │     │               │     │                 │     │               │
│ 点击编辑   │────►│ 加载菜单数据  │────►│ 编辑并提交表单  │────►│ 更新成功提示  │
│            │     │               │     │                 │     │               │
└────────────┘     └───────────────┘     └─────────────────┘     └───────────────┘
```

### 菜单删除流程

```
┌────────────┐     ┌───────────────┐     ┌─────────────────┐     ┌───────────────┐
│            │     │               │     │                 │     │               │
│ 点击删除   │────►│ 确认对话框    │────►│ 确认删除        │────►│ 删除成功提示  │
│            │     │               │     │                 │     │               │
└────────────┘     └───────────────┘     └─────────────────┘     └───────────────┘
                          │
                          │
                          ▼
                   ┌─────────────┐
                   │             │
                   │ 点击取消    │
                   │             │
                   └─────────────┘
```

## 响应式设计

- 在小屏幕设备上，表格将自动调整列的显示
- 优先显示菜单名称、状态和操作列
- 其他列可通过展开行查看
- 编辑表单在小屏幕上将调整为单列布局

## 无障碍设计

- 所有表单控件带有适当的标签
- 错误信息清晰且带有视觉提示
- 表格内容支持键盘导航
- 图标选择器支持键盘操作和搜索 