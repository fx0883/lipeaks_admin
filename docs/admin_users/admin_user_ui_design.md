# 管理员用户管理模块 - 界面设计

本文档提供管理员用户管理模块的界面设计指南，包括各页面的布局设计、组件结构和交互逻辑。

## 总体设计原则

1. **简洁明了**：界面设计简洁清晰，减少不必要的装饰元素
2. **层次分明**：视觉层次清晰，重要信息突出显示
3. **响应式**：适配不同尺寸的设备和屏幕
4. **一致性**：保持与系统其他模块的设计风格一致
5. **用户友好**：操作流程直观，提供必要的提示和反馈

## 1. 管理员列表页面

### 页面描述

管理员列表页面是管理员用户管理模块的主入口，展示系统中所有有权查看的管理员用户。页面提供丰富的搜索和筛选功能，便于快速定位特定管理员。

### 页面结构

```
+--------------------------------------------------------------+
| 页面标题: 管理员用户                         [创建管理员] 按钮 |
+--------------------------------------------------------------+
| 搜索栏 [搜索框]                                              |
| 筛选器 [状态][是否超级管理员][租户]          [刷新][导出] 按钮 |
+--------------------------------------------------------------+
| 表格头部 [选择][用户名][邮箱][角色][租户][状态][创建时间][操作] |
+--------------------------------------------------------------+
| □ | admin | admin@ex..| 超级管理员 | - | 活跃 | 2023-01-01 | [...] |
| □ | user1 | user1@ex..| 租户管理员 | A租户 | 活跃 | 2023-01-02 | [...] |
| □ | user2 | user2@ex..| 租户管理员 | B租户 | 暂停 | 2023-01-03 | [...] |
+--------------------------------------------------------------+
| 分页控件 [1][2][3]...                      总计: XX 条记录    |
+--------------------------------------------------------------+
```

### 主要组件

1. **页面标题区**：
   - 页面标题
   - 创建管理员按钮（根据权限显示）

2. **搜索和筛选区**：
   - 搜索框：支持按用户名、邮箱、昵称、手机号搜索
   - 状态筛选下拉框：全部、活跃、暂停、未激活
   - 超级管理员筛选下拉框：全部、是、否
   - 租户筛选下拉框：全部、无租户、特定租户列表
   - 刷新按钮：重新加载数据
   - 导出按钮：导出管理员列表为Excel/CSV

3. **管理员表格**：
   - 批量选择复选框
   - 用户名列（可排序）
   - 邮箱列
   - 角色列（超级管理员/租户管理员）
   - 所属租户列
   - 状态列（可视化标识，如彩色标签）
   - 创建时间列（可排序）
   - 操作列：详情、编辑、删除按钮（根据权限显示）

4. **分页控件**：
   - 页码导航
   - 每页显示数量选择
   - 总记录数显示

### 交互说明

1. **搜索功能**：
   - 在搜索框输入关键词后按回车或点击搜索图标触发搜索
   - 支持实时搜索（输入时自动搜索）或延迟搜索（停止输入后0.5秒触发）

2. **筛选功能**：
   - 选择筛选条件后自动应用筛选
   - 多个筛选条件使用"AND"逻辑组合

3. **操作功能**：
   - 点击创建按钮跳转到创建管理员页面
   - 点击详情按钮跳转到管理员详情页面
   - 点击编辑按钮跳转到编辑管理员页面
   - 点击删除按钮弹出确认对话框，确认后执行删除

4. **批量操作**：
   - 选中多个管理员后显示批量操作工具栏
   - 支持批量删除、批量启用/禁用等操作（根据权限显示）

## 2. 管理员详情页面

### 页面描述

管理员详情页面展示单个管理员的详细信息，提供相关操作入口。页面内容根据用户权限和管理员类型动态调整。

### 页面结构

```
+--------------------------------------------------------------+
| 返回按钮 > 管理员用户 > [用户名]                              |
+--------------------------------------------------------------+
|                                                              |
| +------------------------+  +------------------------------+ |
| |                        |  | 基本信息                     | |
| |                        |  +------------------------------+ |
| |        头像            |  | 用户名: admin                | |
| |                        |  | 邮箱: admin@example.com      | |
| |                        |  | 手机: 13800138000            | |
| |                        |  | 昵称: 系统管理员             | |
| +------------------------+  | 姓名: 张三                   | |
| [更换头像]                  | 创建时间: 2023-01-01 12:00:00 | |
|                             +------------------------------+ |
|                                                              |
| +----------------------------------------------------------+ |
| | 角色与权限                                                | |
| +----------------------------------------------------------+ |
| | 角色: 超级管理员                                          | |
| | 所属租户: 无                                              | |
| | 状态: 活跃                                                | |
| +----------------------------------------------------------+ |
| [修改权限] [撤销超级管理员] [禁用账号]                       |
|                                                              |
| +----------------------------------------------------------+ |
| | 账号安全                                                  | |
| +----------------------------------------------------------+ |
| | 最后登录时间: 2023-05-01 15:30:00                         | |
| | 最后登录IP: 192.168.1.1                                   | |
| +----------------------------------------------------------+ |
| [重置密码]                                                   |
|                                                              |
+--------------------------------------------------------------+
| [编辑信息] [删除账号]                                        |
+--------------------------------------------------------------+
```

### 主要组件

1. **导航区**：
   - 返回按钮
   - 面包屑导航

2. **用户标识区**：
   - 头像显示
   - 头像更换按钮（根据权限显示）

3. **基本信息卡片**：
   - 用户名
   - 邮箱
   - 手机号
   - 昵称
   - 姓名（名、姓）
   - 创建时间

4. **角色与权限卡片**：
   - 角色标识
   - 所属租户（如有）
   - 状态标识
   - 权限操作按钮（根据权限显示）：
     - 修改权限按钮
     - 授予/撤销超级管理员按钮
     - 启用/禁用账号按钮

5. **账号安全卡片**：
   - 最后登录时间
   - 最后登录IP
   - 重置密码按钮（根据权限显示）

6. **页面底部操作区**：
   - 编辑信息按钮
   - 删除账号按钮（根据权限显示）

### 交互说明

1. **头像操作**：
   - 点击更换头像按钮弹出头像上传对话框
   - 支持图片预览和裁剪

2. **权限操作**：
   - 点击授予/撤销超级管理员按钮弹出确认对话框
   - 撤销超级管理员时需选择将其分配到哪个租户

3. **账号状态操作**：
   - 点击启用/禁用账号按钮弹出确认对话框
   - 操作成功后状态标识立即更新

4. **页面导航**：
   - 点击返回按钮或面包屑导航返回管理员列表页面
   - 点击编辑信息按钮跳转到编辑管理员页面

## 3. 创建/编辑管理员页面

### 页面描述

创建/编辑管理员页面提供表单界面，用于新建管理员账号或编辑现有管理员信息。页面根据操作类型（创建/编辑）和用户权限动态调整显示内容。

### 页面结构

```
+--------------------------------------------------------------+
| 返回按钮 > 管理员用户 > 创建管理员                            |
+--------------------------------------------------------------+
| [表单标题: 创建新管理员]                                      |
+--------------------------------------------------------------+
| 基本信息                                                     |
| +----------------------------------------------------------+ |
| | 用户名*:     [输入框]                                     | |
| | 电子邮箱*:   [输入框]                                     | |
| | 手机号:      [输入框]                                     | |
| | 昵称:        [输入框]                                     | |
| | 姓:          [输入框]                                     | |
| | 名:          [输入框]                                     | |
| +----------------------------------------------------------+ |
|                                                              |
| 账号设置                                                     |
| +----------------------------------------------------------+ |
| | 密码*:       [输入框]                                     | |
| | 确认密码*:   [输入框]                                     | |
| | 所属租户:    [下拉选择框]                                 | |
| | 账号状态:    [单选按钮组] ○ 活跃  ○ 未激活                | |
| | 账号类型:    [单选按钮组] ○ 租户管理员  ○ 超级管理员       | |
| +----------------------------------------------------------+ |
|                                                              |
| +----------------------------------------------------------+ |
| | [取消]                                        [保存] [保存并继续] | |
| +----------------------------------------------------------+ |
+--------------------------------------------------------------+
```

### 主要组件

1. **导航区**：
   - 返回按钮
   - 面包屑导航

2. **表单标题**：
   - 根据操作类型显示"创建新管理员"或"编辑管理员信息"

3. **基本信息区**：
   - 用户名输入框（创建时必填，编辑时禁用）
   - 电子邮箱输入框（必填）
   - 手机号输入框
   - 昵称输入框
   - 姓名输入框（姓、名分开）

4. **账号设置区**：
   - 密码输入框（创建时必填，编辑时可选）
   - 确认密码输入框（创建时必填，编辑时可选）
   - 所属租户下拉选择框（超级管理员可见，创建超级管理员时隐藏）
   - 账号状态单选按钮组
   - 账号类型单选按钮组（仅超级管理员可见）

5. **操作按钮区**：
   - 取消按钮：返回上一页
   - 保存按钮：保存并返回列表页
   - 保存并继续按钮：保存并继续创建新管理员（仅创建时显示）

### 交互说明

1. **表单验证**：
   - 必填字段未填写时显示错误提示
   - 电子邮箱格式验证
   - 手机号格式验证（如需）
   - 密码强度验证
   - 确认密码匹配验证

2. **动态表单**：
   - 选择超级管理员类型时，隐藏所属租户字段
   - 编辑超级管理员时，普通管理员不可修改账号类型
   - 创建时显示密码字段，编辑时可选择是否修改密码

3. **权限控制**：
   - 非超级管理员不能创建超级管理员
   - 租户管理员只能选择自己所属租户

4. **提交行为**：
   - 点击保存按钮后显示加载状态
   - 提交成功后显示成功提示并跳转
   - 提交失败显示错误信息

## 4. 创建超级管理员页面

### 页面描述

创建超级管理员页面是一个特殊的创建管理员页面，专门用于创建超级管理员账号。此页面仅对现有超级管理员可见。

### 页面结构

结构与创建管理员页面类似，但有以下区别：

1. 标题显示为"创建超级管理员"
2. 不显示所属租户字段
3. 不显示账号类型选择（默认为超级管理员）
4. 添加特殊权限说明提示

### 主要组件

与创建管理员页面基本相同，但去除了与租户和账号类型相关的组件。

### 交互说明

与创建管理员页面基本相同，但有以下区别：

1. 提交时直接设置为超级管理员
2. 提供更明确的权限警告

## 5. 当前管理员信息页面

### 页面描述

当前管理员信息页面展示当前登录管理员的详细信息，并提供个人信息编辑、密码修改和头像上传功能。

### 页面结构

```
+--------------------------------------------------------------+
| 个人信息                                                     |
+--------------------------------------------------------------+
|                                                              |
| +------------------------+  +------------------------------+ |
| |                        |  | 基本信息                     | |
| |                        |  +------------------------------+ |
| |        头像            |  | 用户名: admin                | |
| |                        |  | 邮箱: admin@example.com      | |
| |                        |  | 手机: 13800138000            | |
| |                        |  | 昵称: 系统管理员             | |
| +------------------------+  | 姓名: 张三                   | |
| [更换头像]                  +------------------------------+ |
|                                                              |
| +----------------------------------------------------------+ |
| | 角色与租户                                                | |
| +----------------------------------------------------------+ |
| | 角色: 超级管理员                                          | |
| | 所属租户: 无                                              | |
| +----------------------------------------------------------+ |
|                                                              |
| +----------------------------------------------------------+ |
| | 账号安全                                                  | |
| +----------------------------------------------------------+ |
| | 最后登录时间: 2023-05-01 15:30:00                         | |
| | 最后登录IP: 192.168.1.1                                   | |
| +----------------------------------------------------------+ |
| [修改密码]                                                   |
|                                                              |
| +----------------------------------------------------------+ |
| | [编辑个人信息]                                            | |
| +----------------------------------------------------------+ |
+--------------------------------------------------------------+
```

### 主要组件

1. **头像区**：
   - 显示当前头像
   - 更换头像按钮

2. **基本信息卡片**：
   - 用户名（只读）
   - 邮箱（只读）
   - 手机号
   - 昵称
   - 姓名

3. **角色与租户卡片**：
   - 角色标识（只读）
   - 所属租户（只读，如有）

4. **账号安全卡片**：
   - 最后登录时间
   - 最后登录IP
   - 修改密码按钮

5. **操作区**：
   - 编辑个人信息按钮

### 交互说明

1. **头像操作**：
   - 点击更换头像按钮弹出头像上传对话框
   - 支持图片预览和裁剪

2. **密码修改**：
   - 点击修改密码按钮弹出密码修改对话框
   - 需要输入当前密码、新密码和确认密码

3. **信息编辑**：
   - 点击编辑个人信息按钮切换页面为编辑模式
   - 仅允许编辑部分个人信息（昵称、手机号、姓名等）

## 6. 密码修改组件

### 组件描述

密码修改组件是一个可复用的对话框组件，用于修改当前登录管理员的密码。

### 组件结构

```
+--------------------------------------------------------------+
| 修改密码                                           [X] 关闭  |
+--------------------------------------------------------------+
|                                                              |
| 当前密码:    [输入框]                                        |
| 新密码:      [输入框]                 [显示/隐藏密码]         |
| 确认新密码:  [输入框]                 [显示/隐藏密码]         |
|                                                              |
| 密码强度: [强度指示器]                                       |
| 提示: 密码必须包含字母、数字和特殊字符，且长度不少于8位       |
|                                                              |
| [取消]                                              [确认]    |
+--------------------------------------------------------------+
```

### 主要组件

1. **对话框标题**：
   - 标题文本
   - 关闭按钮

2. **密码输入区**：
   - 当前密码输入框
   - 新密码输入框
   - 确认新密码输入框
   - 密码显示/隐藏切换按钮

3. **密码强度指示**：
   - 可视化强度指示器
   - 密码规则提示

4. **操作按钮**：
   - 取消按钮
   - 确认按钮

### 交互说明

1. **密码验证**：
   - 验证当前密码是否正确
   - 验证新密码是否符合复杂度要求
   - 验证确认密码是否与新密码一致

2. **密码强度指示**：
   - 实时根据输入的新密码显示强度
   - 低、中、高三级颜色区分

3. **提交行为**：
   - 点击确认按钮后显示加载状态
   - 提交成功后显示成功提示并关闭对话框
   - 提交失败显示错误信息

## 7. 头像上传组件

### 组件描述

头像上传组件是一个可复用的对话框组件，用于上传和裁剪用户头像。

### 组件结构

```
+--------------------------------------------------------------+
| 上传头像                                           [X] 关闭  |
+--------------------------------------------------------------+
|                                                              |
| [选择图片] 或拖放图片到此处                                   |
|                                                              |
| +---------------------------+ +---------------------------+  |
| |                           | |                           |  |
| |                           | |                           |  |
| |       原始图片            | |       预览效果            |  |
| |                           | |                           |  |
| |                           | |                           |  |
| +---------------------------+ +---------------------------+  |
|                                                              |
| 缩放: [滑动条]                                               |
| 旋转: [旋转按钮]                                             |
|                                                              |
| [取消]                                              [上传]    |
+--------------------------------------------------------------+
```

### 主要组件

1. **对话框标题**：
   - 标题文本
   - 关闭按钮

2. **图片上传区**：
   - 文件选择按钮
   - 拖放区域

3. **图片编辑区**：
   - 原始图片显示
   - 裁剪预览
   - 缩放控件
   - 旋转控件

4. **操作按钮**：
   - 取消按钮
   - 上传按钮

### 交互说明

1. **图片选择**：
   - 点击选择图片按钮打开文件选择对话框
   - 支持拖放图片到指定区域

2. **图片处理**：
   - 自动居中显示上传的图片
   - 支持拖动调整裁剪区域
   - 支持缩放调整图片大小
   - 支持旋转调整图片方向

3. **图片预览**：
   - 实时显示裁剪后的头像效果

4. **提交行为**：
   - 点击上传按钮后显示上传进度
   - 上传成功后显示成功提示并关闭对话框
   - 上传失败显示错误信息 