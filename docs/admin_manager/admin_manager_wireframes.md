# 管理员用户管理模块 - 线框图设计

本文档提供管理员用户管理模块的线框图设计，描述各页面的布局结构和主要交互元素，帮助开发人员理解页面的整体设计和功能划分。

## 1. 管理员用户列表页面

### 线框图

```
+--------------------------------------------------------------+
|                                                              |
|  [顶部导航栏]                                                 |
|                                                              |
+--------------------------------------------------------------+
|                                                              |
|  [侧边菜单]    +-------------------------------------------+  |
|                |                                           |  |
|  管理控制台    |  管理员用户                   [创建管理员]  |  |
|  租户管理      |  ------------------------------------------+  |
|  管理员管理 >> |  搜索: [____________] [状态 ▼] [角色 ▼]    |  |
|  菜单管理      |  [租户 ▼]                   [刷新] [导出]  |  |
|                |  ------------------------------------------+  |
|                |  表格头部                                  |  |
|                |  ------------------------------------------+  |
|                |  □ | 用户名  | 邮箱 | 角色 | 租户 | 状态 | 操作 |  |
|                |  ------------------------------------------+  |
|                |  □ | admin   | a@ex | 超管 | -   | 活跃 | [...] |  |
|                |  □ | user1   | u@ex | 租管 | A租户| 活跃 | [...] |  |
|                |  □ | user2   | v@ex | 租管 | B租户| 停用 | [...] |  |
|                |  ------------------------------------------+  |
|                |  [< 1 2 3 ... >]     共 XX 条记录          |  |
|                |                                           |  |
|                +-------------------------------------------+  |
|                                                              |
+--------------------------------------------------------------+
```

### 功能描述

1. **页面标题区**
   - 页面标题：显示"管理员用户"
   - 创建管理员按钮：点击后跳转到创建管理员页面

2. **搜索和筛选区**
   - 搜索框：支持按用户名、邮箱、昵称、手机号搜索
   - 状态筛选下拉框：全部、活跃、暂停、未激活
   - 角色筛选下拉框：全部、超级管理员、租户管理员
   - 租户筛选下拉框：全部、无租户、租户列表
   - 刷新按钮：重新加载数据
   - 导出按钮：导出管理员列表为Excel/CSV

3. **管理员表格**
   - 批量选择复选框：选中多个管理员进行批量操作
   - 用户名列：显示管理员用户名
   - 邮箱列：显示管理员邮箱
   - 角色列：显示管理员角色（超级管理员/租户管理员）
   - 租户列：显示管理员所属租户
   - 状态列：显示管理员状态，使用不同颜色标识
   - 操作列：包含查看、编辑、删除等操作按钮

4. **分页控件**
   - 页码导航：上一页、页码列表、下一页
   - 记录统计：显示总记录数

## 2. 管理员用户详情页面

### 线框图

```
+--------------------------------------------------------------+
|                                                              |
|  [顶部导航栏]                                                 |
|                                                              |
+--------------------------------------------------------------+
|                                                              |
|  [侧边菜单]    +-------------------------------------------+  |
|                |                                           |  |
|  管理控制台    |  < 返回管理员列表                          |  |
|  租户管理      |  ------------------------------------------+  |
|  管理员管理 >> |  管理员详情: admin                         |  |
|  菜单管理      |  ------------------------------------------+  |
|                |                                           |  |
|                |  +-------------+  +---------------------+ |  |
|                |  |             |  | 基本信息            | |  |
|                |  |   [头像]    |  +---------------------+ |  |
|                |  |             |  | 用户名: admin       | |  |
|                |  |             |  | 邮箱: admin@ex.com  | |  |
|                |  +-------------+  | 手机: 13800138000   | |  |
|                |  [更换头像]       | 昵称: 系统管理员     | |  |
|                |                   | 姓名: 张三          | |  |
|                |                   | 创建时间: 2023-01-01| |  |
|                |                   +---------------------+ |  |
|                |                                           |  |
|                |  +----------------------------------------+ |  |
|                |  | 角色与权限                             | |  |
|                |  +----------------------------------------+ |  |
|                |  | 角色: 超级管理员                       | |  |
|                |  | 所属租户: 无                           | |  |
|                |  | 状态: 活跃                             | |  |
|                |  +----------------------------------------+ |  |
|                |  [撤销超管权限] [停用账号]                 | |  |
|                |                                           |  |
|                |  +----------------------------------------+ |  |
|                |  | 账号安全                               | |  |
|                |  +----------------------------------------+ |  |
|                |  | 最后登录: 2023-05-01 15:30:00          | |  |
|                |  | 登录IP: 192.168.1.1                    | |  |
|                |  +----------------------------------------+ |  |
|                |  [重置密码]                                | |  |
|                |                                           |  |
|                |  [编辑信息] [删除账号]                     | |  |
|                |                                           |  |
|                +-------------------------------------------+  |
|                                                              |
+--------------------------------------------------------------+
```

### 功能描述

1. **导航区**
   - 返回按钮：返回管理员列表页面
   - 页面标题：显示"管理员详情: [用户名]"

2. **头像区**
   - 头像显示：显示管理员头像
   - 更换头像按钮：点击后打开头像上传对话框

3. **基本信息卡片**
   - 显示管理员的基本信息：
     - 用户名
     - 邮箱
     - 手机号
     - 昵称
     - 姓名
     - 创建时间

4. **角色与权限卡片**
   - 显示管理员的角色和权限信息：
     - 角色：超级管理员/租户管理员
     - 所属租户：租户名称或"无"
     - 状态：活跃/暂停/未激活
   - 操作按钮（根据权限显示）：
     - 授予/撤销超级管理员按钮
     - 启用/停用账号按钮

5. **账号安全卡片**
   - 显示账号安全相关信息：
     - 最后登录时间
     - 最后登录IP
   - 重置密码按钮：点击后打开重置密码对话框

6. **底部操作区**
   - 编辑信息按钮：点击后跳转到编辑管理员页面
   - 删除账号按钮：点击后显示删除确认对话框

## 3. 创建/编辑管理员页面

### 线框图

```
+--------------------------------------------------------------+
|                                                              |
|  [顶部导航栏]                                                 |
|                                                              |
+--------------------------------------------------------------+
|                                                              |
|  [侧边菜单]    +-------------------------------------------+  |
|                |                                           |  |
|  管理控制台    |  < 返回管理员列表                          |  |
|  租户管理      |  ------------------------------------------+  |
|  管理员管理 >> |  创建新管理员                              |  |
|  菜单管理      |  ------------------------------------------+  |
|                |                                           |  |
|                |  +----------------------------------------+ |  |
|                |  | 基本信息                               | |  |
|                |  +----------------------------------------+ |  |
|                |  | 用户名*:     [____________________]    | |  |
|                |  | 电子邮箱*:   [____________________]    | |  |
|                |  | 手机号:      [____________________]    | |  |
|                |  | 昵称:        [____________________]    | |  |
|                |  | 姓:          [________]                | |  |
|                |  | 名:          [________]                | |  |
|                |  +----------------------------------------+ |  |
|                |                                           |  |
|                |  +----------------------------------------+ |  |
|                |  | 账号设置                               | |  |
|                |  +----------------------------------------+ |  |
|                |  | 密码*:       [____________________]    | |  |
|                |  | 确认密码*:   [____________________]    | |  |
|                |  | 所属租户:    [________▼_________]      | |  |
|                |  | 账号状态:    ○ 活跃  ○ 未激活          | |  |
|                |  | 账号类型:    ○ 租户管理员  ○ 超级管理员 | |  |
|                |  +----------------------------------------+ |  |
|                |                                           |  |
|                |  [取消]                   [保存] [保存并继续] |  |
|                |                                           |  |
|                +-------------------------------------------+  |
|                                                              |
+--------------------------------------------------------------+
```

### 功能描述

1. **导航区**
   - 返回按钮：返回管理员列表页面
   - 页面标题：创建新管理员/编辑管理员

2. **基本信息表单**
   - 用户名输入框：输入管理员用户名（创建时必填，编辑时禁用）
   - 电子邮箱输入框：输入管理员邮箱（必填）
   - 手机号输入框：输入管理员手机号（可选）
   - 昵称输入框：输入管理员昵称（可选）
   - 姓名输入框：输入管理员姓名（可选，分为姓和名）

3. **账号设置表单**
   - 密码输入框：输入管理员密码（创建时必填，编辑时可选）
   - 确认密码输入框：再次输入密码进行确认（创建时必填，编辑时可选）
   - 所属租户下拉框：选择管理员所属租户（超级管理员可见，创建超级管理员时隐藏）
   - 账号状态单选按钮组：选择账号状态（活跃/未激活）
   - 账号类型单选按钮组：选择账号类型（租户管理员/超级管理员，仅超级管理员可见）

4. **操作按钮**
   - 取消按钮：取消操作，返回上一页
   - 保存按钮：保存表单内容，创建/更新管理员用户
   - 保存并继续按钮：保存表单内容并继续创建新管理员

## 4. 确认对话框

### 删除确认对话框

```
+----------------------------------------------------+
|                                                    |
|  !  确认删除管理员                                  |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  您确定要删除管理员"admin"吗？                      |
|                                                    |
|  此操作不可逆，但管理员数据将保留在数据库中。        |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  [取消]                              [确认删除]    |
|                                                    |
+----------------------------------------------------+
```

### 授予/撤销超级管理员确认对话框

```
+----------------------------------------------------+
|                                                    |
|  !  确认撤销超级管理员权限                          |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  您确定要撤销"admin"的超级管理员权限吗？            |
|                                                    |
|  撤销后，该管理员将成为普通的租户管理员。            |
|                                                    |
|  请选择将其分配到哪个租户:                          |
|  [_______________▼________________]                |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  [取消]                              [确认撤销]    |
|                                                    |
+----------------------------------------------------+
```

### 启用/停用账号确认对话框

```
+----------------------------------------------------+
|                                                    |
|  !  确认停用账号                                   |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  您确定要停用管理员"admin"的账号吗？                |
|                                                    |
|  停用后，该管理员将无法登录系统。                   |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  [取消]                              [确认停用]    |
|                                                    |
+----------------------------------------------------+
```

## 5. 重置密码对话框

```
+----------------------------------------------------+
|                                                    |
|  重置管理员密码                                     |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  您正在重置管理员"admin"的密码                      |
|                                                    |
|  新密码*:       [______________________]           |
|  确认新密码*:   [______________________]           |
|                                                    |
|  密码必须至少包含8个字符，且包含字母、数字和特殊字符。 |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  [取消]                              [确认重置]    |
|                                                    |
+----------------------------------------------------+
```

## 6. 头像上传对话框

```
+----------------------------------------------------+
|                                                    |
|  更换头像                                          |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  +---------------------------+  +---------------+  |
|  |                           |  |               |  |
|  |                           |  |    预览       |  |
|  |   拖放图片到此处          |  |               |  |
|  |   或点击上传              |  |               |  |
|  |                           |  |               |  |
|  |                           |  |               |  |
|  +---------------------------+  +---------------+  |
|                                                    |
|  支持jpg、png、webp格式，最大2MB                    |
|                                                    |
+----------------------------------------------------+
|                                                    |
|  [取消]                              [上传头像]    |
|                                                    |
+----------------------------------------------------+
```

## 7. 交互流程

### 创建管理员流程

1. 用户点击管理员列表页面的"创建管理员"按钮
2. 系统跳转到创建管理员页面
3. 用户填写管理员信息
4. 用户点击"保存"按钮
5. 系统验证表单数据
   - 如果验证失败，显示错误信息
   - 如果验证成功，创建管理员并跳转回列表页面

### 编辑管理员流程

1. 用户点击管理员列表页面的"编辑"按钮
2. 系统跳转到编辑管理员页面，并加载管理员信息
3. 用户修改管理员信息
4. 用户点击"保存"按钮
5. 系统验证表单数据
   - 如果验证失败，显示错误信息
   - 如果验证成功，更新管理员并跳转回详情页面

### 删除管理员流程

1. 用户点击管理员列表页面或详情页面的"删除"按钮
2. 系统显示删除确认对话框
3. 用户点击"确认删除"按钮
4. 系统删除管理员并刷新列表页面 