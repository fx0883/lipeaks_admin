# Member CMS API å®Œæ•´å‚è€ƒæ‰‹å†Œ

## ğŸ“– æ–‡æ¡£å¯¼èˆª

æœ¬æ–‡æ¡£æä¾›æ‰€æœ‰APIæ¥å£çš„å®Œæ•´ç´¢å¼•ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾å’Œå¯¼èˆªã€‚

**ğŸ“¢ éªŒè¯è¯´æ˜**: æ‰€æœ‰APIè¿”å›ç¤ºä¾‹å‡é€šè¿‡å®é™…curlè°ƒç”¨éªŒè¯ï¼Œç¡®ä¿ä¸æœåŠ¡å™¨å“åº”å®Œå…¨ä¸€è‡´ã€‚

## ğŸ¯ API æ¨¡å—æ€»è§ˆ

| æ¨¡å— | æ–‡ä»¶å | æ¥å£æ•°é‡ | ä¸»è¦åŠŸèƒ½ |
|------|--------|----------|----------|
| [è®¤è¯ç³»ç»Ÿ](#è®¤è¯ç³»ç»Ÿ) | `01_authentication.md` | 5ä¸ª | ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€Tokenç®¡ç† |
| [ç”¨æˆ·ç®¡ç†](#ç”¨æˆ·ç®¡ç†) | `02_user_management.md` | 5ä¸ª | ä¸ªäººä¿¡æ¯ã€å¯†ç ã€å¤´åƒç®¡ç† |
| [æ–‡ç« ç®¡ç†](#æ–‡ç« ç®¡ç†) | `03_article_management.md` | 7ä¸ª | æ–‡ç« CRUDã€å‘å¸ƒã€ç»Ÿè®¡ |
| [ç®¡ç†å‘˜CMSç®¡ç†](#ç®¡ç†å‘˜cmsç®¡ç†) | `07_admin_cms_management.md` | 11ä¸ª | åå°å†…å®¹ç®¡ç†ã€æ‰¹é‡æ“ä½œ |
| [äº’åŠ¨åŠŸèƒ½](#äº’åŠ¨åŠŸèƒ½) | `04_interactions.md` | 6ä¸ª | æ”¶è—ã€ç‚¹èµã€å…³æ³¨ |
| [åˆ†ç±»æ ‡ç­¾](#åˆ†ç±»æ ‡ç­¾) | `05_categories_tags.md` | 6ä¸ª | åˆ†ç±»ã€æ ‡ç­¾ã€æ ‡ç­¾åˆ†ç»„ç®¡ç† |
| [è¯„è®ºç³»ç»Ÿ](#è¯„è®ºç³»ç»Ÿ) | `06_comments.md` | 13ä¸ª | è¯„è®ºCRUDã€å›å¤ã€å®¡æ ¸ |

---

## ğŸ” è®¤è¯ç³»ç»Ÿ

**æ–‡ä»¶**: `01_authentication.md`  
**åŸºç¡€è·¯å¾„**: `/api/v1/auth/`

### æ ¸å¿ƒæ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [ç”¨æˆ·æ³¨å†Œ](#ç”¨æˆ·æ³¨å†Œ) | POST | `/member/register/` | Memberç”¨æˆ·æ³¨å†Œè´¦å· |
| [ç”¨æˆ·ç™»å½•](#ç”¨æˆ·ç™»å½•) | POST | `/login/` | æ”¯æŒMemberå’ŒAdminç™»å½• |
| [Tokenåˆ·æ–°](#tokenåˆ·æ–°) | POST | `/refresh/` | åˆ·æ–°Access Token |
| [TokenéªŒè¯](#tokenéªŒè¯) | GET | `/verify/` | éªŒè¯Tokenæœ‰æ•ˆæ€§ |
| [å¯†ç é‡ç½®è¯·æ±‚](#å¯†ç é‡ç½®è¯·æ±‚) | POST | `/password-reset/request/` | è¯·æ±‚å¯†ç é‡ç½®é‚®ä»¶ |

### è¯·æ±‚å¤´è§„èŒƒ
```bash
# Memberç”¨æˆ·æ³¨å†Œ/ç™»å½•
X-Tenant-ID: {tenant_id}          # å¿…éœ€
Content-Type: application/json    # POSTè¯·æ±‚

# Tokenç›¸å…³æ¥å£
Authorization: Bearer {token}     # éœ€è¦è®¤è¯æ—¶
```

### å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
```bash
# 1. ç”¨æˆ·æ³¨å†Œ
curl -X POST "https://your-domain.com/api/v1/auth/member/register/" \
  -H "X-Tenant-ID: 1" \
  -H "Content-Type: application/json" \
  -d '{"username": "testuser", "email": "test@example.com", "password": "password123", "password_confirm": "password123"}'

# 2. ç”¨æˆ·ç™»å½•
curl -X POST "https://your-domain.com/api/v1/auth/login/" \
  -H "X-Tenant-ID: 1" \
  -H "Content-Type: application/json" \
  -d '{"username": "testuser", "password": "password123"}'

# 3. ä½¿ç”¨Tokenè®¿é—®å…¶ä»–æ¥å£
curl -X GET "https://your-domain.com/api/v1/members/me/" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "X-Tenant-ID: 1"
```

---

## ğŸ‘¤ ç”¨æˆ·ç®¡ç†

**æ–‡ä»¶**: `02_user_management.md`  
**åŸºç¡€è·¯å¾„**: `/api/v1/members/`

### æ ¸å¿ƒæ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–ç”¨æˆ·ä¿¡æ¯](#è·å–ç”¨æˆ·ä¿¡æ¯) | GET | `/me/` | è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ |
| [æ›´æ–°ç”¨æˆ·ä¿¡æ¯](#æ›´æ–°ç”¨æˆ·ä¿¡æ¯) | PUT/PATCH | `/me/` | æ›´æ–°å½“å‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ |
| [ä¿®æ”¹å¯†ç ](#ä¿®æ”¹å¯†ç ) | POST | `/me/password/` | ä¿®æ”¹å½“å‰ç”¨æˆ·çš„ç™»å½•å¯†ç  |
| [ä¸Šä¼ å¤´åƒ](#ä¸Šä¼ å¤´åƒ) | POST | `/avatar/upload/` | ä¸Šä¼ å½“å‰ç”¨æˆ·çš„å¤´åƒ |
| [ä¸ºæŒ‡å®šç”¨æˆ·ä¸Šä¼ å¤´åƒ](#ä¸ºæŒ‡å®šç”¨æˆ·ä¸Šä¼ å¤´åƒ) | POST | `/{id}/avatar/upload/` | ç®¡ç†å‘˜ä¸ºæŒ‡å®šç”¨æˆ·ä¸Šä¼ å¤´åƒ |

### è¯·æ±‚å¤´è§„èŒƒ
```bash
Authorization: Bearer {token}     # å¿…éœ€
X-Tenant-ID: {tenant_id}          # Memberç”¨æˆ·å¿…éœ€
Content-Type: application/json    # JSONè¯·æ±‚
Content-Type: multipart/form-data # æ–‡ä»¶ä¸Šä¼ 
```

### æƒé™è¯´æ˜
- **æ™®é€šç”¨æˆ·**: åªèƒ½æ“ä½œè‡ªå·±çš„ä¿¡æ¯
- **ç®¡ç†å‘˜**: å¯ä¸ºå…¶ä»–ç”¨æˆ·ä¸Šä¼ å¤´åƒ
- **å­è´¦å·**: å—çˆ¶è´¦å·æƒé™é™åˆ¶

---

## ğŸ“ æ–‡ç« ç®¡ç†

**æ–‡ä»¶**: `03_article_management.md`  
**åŸºç¡€è·¯å¾„**: `/api/v1/cms/member/articles/`

### æ ¸å¿ƒæ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–æ–‡ç« åˆ—è¡¨](#è·å–æ–‡ç« åˆ—è¡¨) | GET | `/` | è·å–ç”¨æˆ·çš„æ–‡ç« åˆ—è¡¨ï¼ˆåˆ†é¡µã€ç­›é€‰ã€æœç´¢ï¼‰ |
| [è·å–å•ç¯‡æ–‡ç« ](#è·å–å•ç¯‡æ–‡ç« ) | GET | `/{id}/` | è·å–æ–‡ç« è¯¦æƒ… |
| [åˆ›å»ºæ–‡ç« ](#åˆ›å»ºæ–‡ç« ) | POST | `/` | åˆ›å»ºæ–°æ–‡ç«  |
| [æ›´æ–°æ–‡ç« ](#æ›´æ–°æ–‡ç« ) | PUT/PATCH | `/{id}/` | æ›´æ–°æ–‡ç« å†…å®¹ |
| [åˆ é™¤æ–‡ç« ](#åˆ é™¤æ–‡ç« ) | DELETE | `/{id}/` | åˆ é™¤æ–‡ç« ï¼ˆè½¯åˆ é™¤ï¼‰ |
| [å‘å¸ƒæ–‡ç« ](#å‘å¸ƒæ–‡ç« ) | POST | `/{id}/publish/` | å‘å¸ƒè‰ç¨¿æ–‡ç«  |
| [è·å–æ–‡ç« ç»Ÿè®¡](#è·å–æ–‡ç« ç»Ÿè®¡) | GET | `/{id}/statistics/` | è·å–æ–‡ç« ç»Ÿè®¡ä¿¡æ¯ |

### è¯·æ±‚å¤´è§„èŒƒ
```bash
Authorization: Bearer {token}     # å¿…éœ€
X-Tenant-ID: {tenant_id}          # å¿…éœ€
Content-Type: application/json    # å¿…éœ€
```

### æŸ¥è¯¢å‚æ•°è¯´æ˜
```bash
# åˆ†é¡µå‚æ•°
page=1&page_size=20

# çŠ¶æ€ç­›é€‰
status=published  # draft/pending/published/archived

# æœç´¢
search=Vueæ•™ç¨‹

# æ’åº
sort=created_at&sort_direction=desc  # created_at/updated_at/published_at/title
```

### æ–‡ç« çŠ¶æ€æµè½¬
```
è‰ç¨¿(draft) â†’ å¾…å®¡æ ¸(pending) â†’ å·²å‘å¸ƒ(published) â†’ å·²å½’æ¡£(archived)
     â†“             â†“                        â†“
   ä¿å­˜è‰ç¨¿ â†’ æäº¤å®¡æ ¸ â†’ ç®¡ç†å‘˜å®¡æ ¸ â†’ æ‰‹åŠ¨å½’æ¡£
```

---

## ğŸ› ï¸ ç®¡ç†å‘˜CMSç®¡ç†

**æ–‡ä»¶**: `07_admin_cms_management.md`
**åŸºç¡€è·¯å¾„**: `/api/v1/cms/articles/`

### æ ¸å¿ƒæ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–æ–‡ç« åˆ—è¡¨](#è·å–æ–‡ç« åˆ—è¡¨) | GET | `/` | è·å–æ‰€æœ‰æ–‡ç« åˆ—è¡¨ï¼ˆç®¡ç†å‘˜è§†è§’ï¼‰ |
| [è·å–å•ç¯‡æ–‡ç« ](#è·å–å•ç¯‡æ–‡ç« ) | GET | `/{id}/` | è·å–æ–‡ç« è¯¦æƒ… |
| [åˆ›å»ºæ–‡ç« ](#åˆ›å»ºæ–‡ç« ) | POST | `/` | åˆ›å»ºæ–°æ–‡ç«  |
| [æ›´æ–°æ–‡ç« ](#æ›´æ–°æ–‡ç« ) | PUT/PATCH | `/{id}/` | æ›´æ–°æ–‡ç« å†…å®¹ |
| [åˆ é™¤æ–‡ç« ](#åˆ é™¤æ–‡ç« ) | DELETE | `/{id}/` | åˆ é™¤æ–‡ç«  |
| [å‘å¸ƒæ–‡ç« ](#å‘å¸ƒæ–‡ç« ) | POST | `/{id}/publish/` | å‘å¸ƒæ–‡ç«  |
| [å–æ¶ˆå‘å¸ƒ](#å–æ¶ˆå‘å¸ƒ) | POST | `/{id}/unpublish/` | å–æ¶ˆå‘å¸ƒæ–‡ç«  |
| [å½’æ¡£æ–‡ç« ](#å½’æ¡£æ–‡ç« ) | POST | `/{id}/archive/` | å½’æ¡£æ–‡ç«  |
| [è·å–ç»Ÿè®¡](#è·å–ç»Ÿè®¡) | GET | `/{id}/statistics/` | è·å–æ–‡ç« ç»Ÿè®¡ |
| [ç‰ˆæœ¬å†å²](#ç‰ˆæœ¬å†å²) | GET | `/{id}/versions/` | è·å–ç‰ˆæœ¬å†å² |
| [æ‰¹é‡åˆ é™¤](#æ‰¹é‡åˆ é™¤) | POST | `/batch-delete/` | æ‰¹é‡åˆ é™¤æ–‡ç«  |

### æƒé™è¯´æ˜
- **è¶…çº§ç®¡ç†å‘˜**: ç®¡ç†æ‰€æœ‰ç§Ÿæˆ·å†…å®¹
- **ç§Ÿæˆ·ç®¡ç†å‘˜**: ç®¡ç†æœ¬ç§Ÿæˆ·å†…å®¹
- **å†…å®¹ç®¡ç†å‘˜**: æœ‰é™çš„ç®¡ç†æƒé™

### é«˜çº§ç­›é€‰åŠŸèƒ½
- æŒ‰å†…å®¹ç±»å‹ç­›é€‰ï¼š`content_type=image_upload`
- æŒ‰ä½œè€…ç±»å‹ç­›é€‰ï¼š`author_type=member` æˆ– `author_type=admin`
- æŒ‰å…·ä½“ä½œè€…ç­›é€‰ï¼š`user_id=1` æˆ– `member_id=1`
- æŒ‰çˆ¶å­å…³ç³»ç­›é€‰ï¼š`has_parent=true`
- æ—¥æœŸèŒƒå›´ç­›é€‰ï¼š`date_from=2024-01-01&date_to=2024-12-31`
- ç»Ÿè®¡æ•°æ®æ’åºï¼š`sort=views_count`

---

## ğŸ’ äº’åŠ¨åŠŸèƒ½

**æ–‡ä»¶**: `04_interactions.md`  
**åŸºç¡€è·¯å¾„**: `/api/v1/interactions/`

### æ”¶è—ç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–æ”¶è—åˆ—è¡¨](#è·å–æ”¶è—åˆ—è¡¨) | GET | `/favorites/` | è·å–ç”¨æˆ·çš„æ–‡ç« æ”¶è—åˆ—è¡¨ |
| [æ”¶è—æ–‡ç« ](#æ”¶è—æ–‡ç« ) | POST | `/favorites/` | æ”¶è—æŒ‡å®šçš„æ–‡ç«  |
| [å–æ¶ˆæ”¶è—ï¼ˆæŒ‰æ”¶è—IDï¼‰](#å–æ¶ˆæ”¶è—æŒ‰æ”¶è—id) | DELETE | `/favorites/{id}/` | é€šè¿‡æ”¶è—è®°å½•IDå–æ¶ˆæ”¶è— |
| [å–æ¶ˆæ”¶è—ï¼ˆæŒ‰æ–‡ç« IDï¼‰](#å–æ¶ˆæ”¶è—æŒ‰æ–‡ç« id) | DELETE | `/favorites/by-article/{article_id}/` | é€šè¿‡æ–‡ç« IDå–æ¶ˆæ”¶è— |
| [æ£€æŸ¥æ”¶è—çŠ¶æ€](#æ£€æŸ¥æ”¶è—çŠ¶æ€) | GET | `/favorites/check/{article_id}/` | æ£€æŸ¥æ–‡ç« æ˜¯å¦å·²è¢«æ”¶è— |

### ç‚¹èµç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–ç‚¹èµåˆ—è¡¨](#è·å–ç‚¹èµåˆ—è¡¨) | GET | `/likes/` | è·å–ç”¨æˆ·å‘å‡ºçš„ç‚¹èµåˆ—è¡¨ |
| [ç‚¹èµç”¨æˆ·](#ç‚¹èµç”¨æˆ·) | POST | `/likes/` | ç‚¹èµæŒ‡å®šçš„ç”¨æˆ· |
| [è·å–æ”¶åˆ°çš„ç‚¹èµ](#è·å–æ”¶åˆ°çš„ç‚¹èµ) | GET | `/likes/received/` | è·å–æ”¶åˆ°çš„ç‚¹èµåˆ—è¡¨ |
| [æ£€æŸ¥ç‚¹èµçŠ¶æ€](#æ£€æŸ¥ç‚¹èµçŠ¶æ€) | GET | `/likes/check/{member_id}/` | æ£€æŸ¥æ˜¯å¦å·²ç‚¹èµç”¨æˆ· |

### è¯·æ±‚å¤´è§„èŒƒ
```bash
Authorization: Bearer {token}     # å¿…éœ€
X-Tenant-ID: {tenant_id}          # å¿…éœ€
Content-Type: application/json    # POSTè¯·æ±‚
```

### ä¸šåŠ¡è§„åˆ™
- **æ”¶è—**: æ¯ä¸ªç”¨æˆ·å¯¹æ¯ç¯‡æ–‡ç« åªèƒ½æ”¶è—ä¸€æ¬¡
- **ç‚¹èµ**: æ¯ä¸ªç”¨æˆ·å¯¹æ¯ä¸ªç”¨æˆ·åªèƒ½ç‚¹èµä¸€æ¬¡
- **æƒé™**: åªèƒ½æŸ¥çœ‹æœ¬ç§Ÿæˆ·å†…çš„äº’åŠ¨æ•°æ®
- **æ•°æ®éš”ç¦»**: ä¸åŒç§Ÿæˆ·çš„ç”¨æˆ·äº’åŠ¨æ•°æ®å®Œå…¨éš”ç¦»

---

## ğŸ·ï¸ åˆ†ç±»æ ‡ç­¾

**æ–‡ä»¶**: `05_categories_tags.md`  
**åŸºç¡€è·¯å¾„**: `/api/v1/cms/`

### åˆ†ç±»ç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–åˆ†ç±»åˆ—è¡¨](#è·å–åˆ†ç±»åˆ—è¡¨) | GET | `/categories/` | è·å–æ‰€æœ‰åˆ†ç±»ï¼Œæ”¯æŒåˆ†é¡µå’Œæœç´¢ |
| [è·å–åˆ†ç±»æ ‘](#è·å–åˆ†ç±»æ ‘) | GET | `/categories/tree/` | è·å–å®Œæ•´çš„åˆ†ç±»æ ‘ç»“æ„ |
| [åˆ›å»ºåˆ†ç±»](#åˆ›å»ºåˆ†ç±») | POST | `/categories/` | åˆ›å»ºæ–°åˆ†ç±»ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰ |

### æ ‡ç­¾ç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–æ ‡ç­¾åˆ—è¡¨](#è·å–æ ‡ç­¾åˆ—è¡¨) | GET | `/tags/` | è·å–æ‰€æœ‰æ ‡ç­¾ï¼Œæ”¯æŒåˆ†é¡µå’Œæœç´¢ |
| [åˆ›å»ºæ ‡ç­¾](#åˆ›å»ºæ ‡ç­¾) | POST | `/tags/` | åˆ›å»ºæ–°æ ‡ç­¾ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰ |

### æ ‡ç­¾åˆ†ç»„ç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–æ ‡ç­¾åˆ†ç»„åˆ—è¡¨](#è·å–æ ‡ç­¾åˆ†ç»„åˆ—è¡¨) | GET | `/tag-groups/` | è·å–æ‰€æœ‰æ ‡ç­¾åˆ†ç»„ |

### æƒé™è¯´æ˜
- **è¯»å–æ“ä½œ**: å…¬å¼€è®¿é—®ï¼Œæ— éœ€è®¤è¯
- **ç®¡ç†æ“ä½œ**: éœ€è¦ç®¡ç†å‘˜æƒé™
- **æ•°æ®éš”ç¦»**: æ”¯æŒæŒ‰ç§Ÿæˆ·è¿‡æ»¤

---

## ğŸ’¬ è¯„è®ºç³»ç»Ÿ

**æ–‡ä»¶**: `06_comments.md`  
**åŸºç¡€è·¯å¾„**: `/api/v1/cms/comments/`

### è¯„è®ºåŸºç¡€æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [è·å–æ–‡ç« è¯„è®ºåˆ—è¡¨](#è·å–æ–‡ç« è¯„è®ºåˆ—è¡¨) | GET | `/` | è·å–æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ |
| [è·å–å•æ¡è¯„è®ºè¯¦æƒ…](#è·å–å•æ¡è¯„è®ºè¯¦æƒ…) | GET | `/{id}/` | è·å–å•æ¡è¯„è®ºè¯¦æƒ… |
| [å‘è¡¨è¯„è®º](#å‘è¡¨è¯„è®º) | POST | `/` | ä¸ºæ–‡ç« å‘è¡¨æ–°è¯„è®º |
| [å›å¤è¯„è®º](#å›å¤è¯„è®º) | POST | `/{id}/replies/` | å›å¤æŒ‡å®šçš„è¯„è®º |
| [æ›´æ–°è¯„è®º](#æ›´æ–°è¯„è®º) | PUT/PATCH | `/{id}/` | æ›´æ–°è‡ªå·±çš„è¯„è®º |
| [åˆ é™¤è¯„è®º](#åˆ é™¤è¯„è®º) | DELETE | `/{id}/` | åˆ é™¤è¯„è®ºï¼ˆè½¯åˆ é™¤ï¼‰ |

### äº’åŠ¨æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [ç‚¹èµè¯„è®º](#ç‚¹èµè¯„è®º) | POST | `/{id}/like/` | ç‚¹èµè¯„è®º |
| [å–æ¶ˆç‚¹èµè¯„è®º](#å–æ¶ˆç‚¹èµè¯„è®º) | DELETE | `/{id}/like/` | å–æ¶ˆç‚¹èµè¯„è®º |
| [ä¸¾æŠ¥è¯„è®º](#ä¸¾æŠ¥è¯„è®º) | POST | `/{id}/report/` | ä¸¾æŠ¥ä¸å½“è¯„è®º |

### ç®¡ç†æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½æè¿° |
|------|------|------|----------|
| [å®¡æ ¸è¯„è®º](#å®¡æ ¸è¯„è®º) | POST | `/{id}/moderate/` | ç®¡ç†å‘˜å®¡æ ¸è¯„è®º |
| [è·å–è¯„è®ºå›å¤](#è·å–è¯„è®ºå›å¤) | GET | `/{id}/replies/` | è·å–è¯„è®ºçš„æ‰€æœ‰å›å¤ |
| [è·å–è¯„è®ºç»Ÿè®¡](#è·å–è¯„è®ºç»Ÿè®¡) | GET | `/{id}/stats/` | è·å–è¯„è®ºç»Ÿè®¡ä¿¡æ¯ |

### è¯„è®ºçŠ¶æ€æµè½¬
```
å¾…å®¡æ ¸(pending) â†’ å·²é€šè¿‡(approved)
       â†“              â†“
   æ‹’ç»(rejected)    ä¸¾æŠ¥(spam)
       â†“              â†“
   éšè—(hidden)    åˆ é™¤(deleted)
```

### æƒé™è¯´æ˜
- **å‘è¡¨è¯„è®º**: éœ€è¦ç™»å½•è®¤è¯
- **æŸ¥çœ‹è¯„è®º**: å…¬å¼€è®¿é—®ï¼ˆæ ¹æ®æ–‡ç« æƒé™ï¼‰
- **ç®¡ç†è¯„è®º**: éœ€è¦ç®¡ç†å‘˜æƒé™
- **å›å¤è¯„è®º**: æ”¯æŒå¤šå±‚åµŒå¥—å›å¤

---

## ğŸ”§ é€šç”¨è§„èŒƒ

### è¯·æ±‚å¤´è¦æ±‚
```bash
Authorization: Bearer {access_token}    # éœ€è¦è®¤è¯çš„æ¥å£å¿…éœ€
X-Tenant-ID: {tenant_id}                # Memberç”¨æˆ·ç›¸å…³æ¥å£å¿…éœ€
Content-Type: application/json          # JSONè¯·æ±‚
Content-Type: multipart/form-data       # æ–‡ä»¶ä¸Šä¼ 
```

### å“åº”æ ¼å¼
```json
{
  "success": true,           // è¯·æ±‚æ˜¯å¦æˆåŠŸ
  "code": 2000,             // å“åº”ç 
  "message": "æ“ä½œæˆåŠŸ",      // å“åº”æ¶ˆæ¯
  "data": { ... },          // ä¸»è¦æ•°æ®
  "error_code": null        // é”™è¯¯æ—¶è¿”å›é”™è¯¯ç 
}
```

### åˆ†é¡µå“åº”
```json
{
  "success": true,
  "code": 2000,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "count": 150,           // æ€»æ¡æ•°
    "next": "...",          // ä¸‹ä¸€é¡µURL
    "previous": "...",      // ä¸Šä¸€é¡µURL
    "results": [...]        // æ•°æ®åˆ—è¡¨
  }
}
```

### é”™è¯¯å“åº”
```json
{
  "success": false,
  "code": 4000,
  "message": "æ•°æ®éªŒè¯å¤±è´¥",
  "data": {
    "field_name": ["é”™è¯¯ä¿¡æ¯"]
  },
  "error_code": "VALIDATION_ERROR"
}
```

---

## ğŸ“Š çŠ¶æ€ç è¯´æ˜

| çŠ¶æ€ç  | è¯´æ˜ | å«ä¹‰ |
|--------|------|------|
| 2000 | æˆåŠŸ | è¯·æ±‚æˆåŠŸå¤„ç† |
| 4000 | éªŒè¯é”™è¯¯ | è¯·æ±‚å‚æ•°ä¸ç¬¦åˆè¦æ±‚ |
| 4001 | æœªè®¤è¯ | éœ€è¦ç™»å½•è®¤è¯ |
| 4003 | æƒé™ä¸è¶³ | ç”¨æˆ·æ²¡æœ‰æ“ä½œæƒé™ |
| 4004 | èµ„æºä¸å­˜åœ¨ | è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ |
| 5000 | æœåŠ¡å™¨é”™è¯¯ | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

## ğŸƒâ€â™‚ï¸ å¿«é€Ÿé›†æˆæŒ‡å—

### 1. ç¯å¢ƒå‡†å¤‡
```javascript
const API_BASE = 'https://your-domain.com/api/v1';

// å…¨å±€é…ç½®
const config = {
  tenantId: '1',  // ä»é…ç½®æ–‡ä»¶è·å–
  getToken: () => localStorage.getItem('access_token'),
  setToken: (token) => localStorage.setItem('access_token', token)
};
```

### 2. é€šç”¨è¯·æ±‚æ–¹æ³•
```javascript
class ApiClient {
  constructor(baseURL, config) {
    this.baseURL = baseURL;
    this.config = config;
  }

  async request(endpoint, options = {}) {
    const url = `${this.baseURL}${endpoint}`;
    const token = this.config.getToken();

    const headers = {
      'Content-Type': 'application/json',
      ...options.headers
    };

    // æ·»åŠ è®¤è¯å¤´
    if (token) {
      headers.Authorization = `Bearer ${token}`;
    }

    // æ·»åŠ ç§Ÿæˆ·å¤´
    if (this.config.tenantId) {
      headers['X-Tenant-ID'] = this.config.tenantId;
    }

    try {
      const response = await fetch(url, {
        headers,
        ...options
      });

      const result = await response.json();

      if (!result.success) {
        throw new Error(result.message);
      }

      return result;
    } catch (error) {
      console.error('APIè¯·æ±‚å¤±è´¥:', error);
      throw error;
    }
  }
}

// åˆå§‹åŒ–APIå®¢æˆ·ç«¯
const api = new ApiClient(API_BASE, config);
```

### 3. å¸¸ç”¨é›†æˆæ¨¡å¼
```javascript
// è®¤è¯æµç¨‹
const auth = {
  async login(username, password) {
    const result = await api.request('/auth/login/', {
      method: 'POST',
      body: JSON.stringify({ username, password })
    });

    config.setToken(result.data.token);
    return result.data.user;
  },

  async refreshToken() {
    const result = await api.request('/auth/refresh/', {
      method: 'POST',
      body: JSON.stringify({
        refresh_token: localStorage.getItem('refresh_token')
      })
    });

    config.setToken(result.data.token);
    return result.data.token;
  }
};

// æ–‡ç« ç®¡ç†
const articles = {
  async getList(params = {}) {
    const query = new URLSearchParams(params);
    return await api.request(`/cms/member/articles/?${query}`);
  },

  async create(articleData) {
    return await api.request('/cms/member/articles/', {
      method: 'POST',
      body: JSON.stringify(articleData)
    });
  },

  async update(id, updates) {
    return await api.request(`/cms/member/articles/${id}/`, {
      method: 'PATCH',
      body: JSON.stringify(updates)
    });
  }
};

// ä½¿ç”¨ç¤ºä¾‹
async function loadUserArticles() {
  try {
    const result = await articles.getList({
      status: 'published',
      page: 1,
      page_size: 10
    });

    renderArticles(result.data.results);
  } catch (error) {
    if (error.message.includes('ç™»å½•')) {
      // é‡å®šå‘åˆ°ç™»å½•é¡µé¢
      window.location.href = '/login';
    } else {
      showError(error.message);
    }
  }
}
```

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### å‰ç«¯é›†æˆå‰è¯·ç¡®è®¤ï¼š

- âœ… å·²é˜…è¯»ç›¸å…³æ¨¡å—çš„è¯¦ç»†æ–‡æ¡£
- âœ… ç†è§£äº†APIçš„è®¤è¯å’Œæƒé™è¦æ±‚
- âœ… é…ç½®äº†æ­£ç¡®çš„Base URLå’Œç§Ÿæˆ·ID
- âœ… å®ç°äº†Tokenå­˜å‚¨å’Œç®¡ç†æœºåˆ¶
- âœ… å¤„ç†äº†APIå“åº”å’Œé”™è¯¯æƒ…å†µ
- âœ… å®ç°äº†åˆ†é¡µæ•°æ®çš„åŠ è½½é€»è¾‘
- âœ… æ·»åŠ äº†åˆé€‚çš„åŠ è½½çŠ¶æ€å’Œç”¨æˆ·åé¦ˆ
- âœ… æµ‹è¯•äº†æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ¥å£

### å¸¸è§é—®é¢˜æ’æŸ¥ï¼š

1. **è®¤è¯å¤±è´¥**: æ£€æŸ¥Tokenæ˜¯å¦æœ‰æ•ˆï¼Œæ˜¯å¦åŒ…å«æ­£ç¡®çš„è¯·æ±‚å¤´
2. **æƒé™ä¸è¶³**: ç¡®è®¤ç”¨æˆ·è§’è‰²å’Œæ“ä½œæƒé™
3. **æ•°æ®ä¸ºç©º**: æ£€æŸ¥ç§Ÿæˆ·IDæ˜¯å¦æ­£ç¡®ï¼Œæ•°æ®æ˜¯å¦å­˜åœ¨
4. **ç½‘ç»œé”™è¯¯**: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ŒAPIåœ°å€æ˜¯å¦æ­£ç¡®
5. **å‚æ•°é”™è¯¯**: å‚è€ƒæ–‡æ¡£æ£€æŸ¥è¯·æ±‚å‚æ•°æ ¼å¼

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨é›†æˆè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. ä»”ç»†é˜…è¯»ç›¸å…³APIæ–‡æ¡£
2. æ£€æŸ¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ç½‘ç»œè¯·æ±‚
3. æŸ¥çœ‹æœåŠ¡å™¨è¿”å›çš„é”™è¯¯ä¿¡æ¯
4. å‚è€ƒæ–‡æ¡£ä¸­çš„ç¤ºä¾‹ä»£ç 
5. æ£€æŸ¥Tokenå’Œæƒé™é…ç½®

**æ–‡æ¡£ç‰ˆæœ¬**: v2.1 (æ–°å¢Admin CMSç®¡ç†)
**æ›´æ–°æ—¶é—´**: 2025-11-10
**é€‚ç”¨å¯¹è±¡**: å‰ç«¯å¼€å‘äººå‘˜ã€ç®¡ç†å‘˜
